\section{Software Design Space}
\label{sect:design-space}
Before going into the design and implementation details
of \flux, we discuss some of the key design challenges
that the new RM paradigm presents. They represent
the main factors that \flux's new concepts and software
design must effectively address in shifting the paradigm.

\subsection{Design Challenges}
\vspace{1ex}
\noindent{\em Multidimensional scale challenge:} The new paradigm
demands that the RM must manage the entire computing facility
as one common pool of resources. Compared to the traditional
paradigm, this presents fundamentally more difficult scale
challenges to the RM design, not only in the concurrency
of a single workload but along several other dimensions.
As concurrency increases, every RM run-time service must
scale and noise must be put at bay. The number of jobs
and resources that the RM must manage will drastically
increase; the amount of run-time information that the RM
must monitor, trace and store will grow in the scaling
limit of the facility. Thus, this challenge precludes
any centralized design in an attempt to gain a wider
view over the resources at the facility.

\vspace{1ex}
\noindent{\em Diverse workload challenge:} The new paradigm must
recognize that different applications have different
performance-limiting factors, and this imposes more complex
requirements to how the RM should model the compute resources.
The traditional approach of modeling resources as a collection
of compute nodes will only work well when the application
is compute bound. Modern workloads have grown in their
complexity, and even today, only a small fraction
of modern applications is compute bound.

\vspace{1ex}
\noindent{\em Dynamic workload challenge:} Not only must the paradigm
support disparate performance limiters across different
applications, but also must it suit varying performance
limiters within a single application. Our applications
and their programming paradigm are becoming increasingly
dynamic with different resource requirements at different phases.

\vspace{1ex}
\noindent{\em Power challenge:} As one specific example of emerging
resource types, power is becoming critical. When the computing
facility becomes power bound instead of compute-node bound, 
the new paradigm must help it to schedule workloads based
upon the maximum power limit at any level at the facility. 
Thus, the resource representation of the new RM must be
generalized enough to model consumable resources like power.

\vspace{1ex}
\noindent{\em Scheduling challenge:} As more diverse attributes
of resources are factored into scheduling, more stalls can
occur in the schedule. For instance, $N$ compute nodes 
may sit idling simply because they do not meet the network
proximity requirement for a job that requested $N$ nodes
all connected at a same lower-level switch. Thus, our design
must provide alternative ways to fill the stalls
to meet this challenge.

\vspace{1ex}
\noindent{\em Productivity challenges:} The new paradigm must improve
end-user productivity in part through tightly integrated 
support for development and use of scalable code development
run-time tools and research.

\vspace{1ex}
\noindent{\em Backward compatibility challenge:} The new paradigm must
also be able to model the traditional paradigm, as its small subset.
This then provides our design with a straightforward path
to backward compatibility with legacy scripts
from a traditional paradigm. % such as SLURM.

\vspace{1ex}
\noindent{\em Integration risk:} In the new paradigm, the RM must 
integrate other software essential to the next-generation
computation. But with higher integration comes the risk 
of hard-wiring assumptions that later prove to be confining. 
That can force changes down the road that are inconsistent
with the initial design. This motivates an extensible framework design.

\vspace{1ex}
\noindent{\em Higher downtime costs:} The impact of downtime under
the new paradigm becomes much greater: if not designed adequately,
a downtime can negatively affect the availability of a large portion
of the facility and/or running workloads across it. Thus, the new paradigm
must be tolerant of hardware and software faults and failures
with no single point of failure and must also support 
live software upgrades.

\vspace{1ex}
\noindent{\em Security challenge:} As the new paradigm increasingly 
motivates a highly distributed, hierarchical software design, 
the importance of security across and within the components
becomes greater.

